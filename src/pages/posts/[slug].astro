---
import { getCollection } from "astro:content";

export const prerender = true;

export async function getStaticPaths() {
    const posts = await getCollection("posts");
    return posts.map((post) => ({
        params: { slug: post.slug },
        props: { post },
    }));
}

const { post } = Astro.props;
const { Content } = await post.render();
---

<html lang="it">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width" />
        <title>{post.data.title}</title>
    </head>
    <body class="bg-gray-50 min-h-screen font-sans text-gray-900">
        <div class="max-w-3xl mx-auto py-12 px-4">
            <a href="/" class="text-blue-600 hover:underline mb-8 block"
                >&larr; Torna alla Home</a
            >

            <article class="bg-white p-8 rounded-lg shadow-md">
                <h1 class="text-4xl font-extrabold mb-4 text-gray-900">
                    {post.data.title}
                </h1>
                <div class="prose prose-lg max-w-none text-gray-700">
                    <Content />
                </div>
            </article>
        </div>
    </body>
</html>
